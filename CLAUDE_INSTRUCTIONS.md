# LSP Diagnostic Protocol

Shell integration output with OSC 633 sequences = automated diagnostic report from LSP analysis.

**Timing:** Appears after tool use, triggered by file changes.

**Format:**

- **Default view**: Clean summary (e.g. "✗ 3 errors found")
- **Ctrl+O expanded**: Detailed diagnostics with specific error messages
- **OSC metadata**: Contains structured diagnostic data for supporting terminals

**Example Output:**

```
✗ 3 errors found
  Files affected: lib/main.ex
```

**Raw format includes OSC sequences:**

```
]633;A]633;B]633;C]633;E;>
✗ lib/main.ex:4:3 - module UndefinedModule is not loaded...
✗ lib/main.ex:19:5 - undefined variable "undefined_user"
]633;D;1
```

**Key Points:**

- Auto-generated by claude-lsp-cli hook, not user input
- Treat as informational feedback about code quality
- Use ✗ for errors, ⚠ for warnings
- Supporting terminals can extract detailed diagnostics from OSC metadata
