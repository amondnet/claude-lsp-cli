# LSP Diagnostic Protocol

`[claude-lsp-cli hook PostToolUse]:` = Automated diagnostic report from file type checking.

**Timing:** Appears after any tool use that modifies files.

**Format:** Human-readable summary with detailed diagnostics.

## Output Format

```
✗ N errors[, M warnings] found
  ✗ file:line:column [code]: error message
  ⚠ file:line:column: warning message
  ... and X more
```

**Structure:**

- **Summary line**: Shows total count of errors/warnings
- **Detail lines** (first 5): Each prefixed with ✗ (error) or ⚠ (warning)
  - Shows file:line:column location
  - Optional error code in brackets
  - Full error message
- **Overflow indicator**: "... and X more" when > 5 diagnostics

## Examples

```
✗ 3 errors found
  ✗ index.ts:15:7 [TS2322]: Type 'string' is not assignable to type 'number'
  ✗ index.ts:20:5 [TS2304]: Cannot find name 'undefined_var'
  ✗ utils.py:8:12: Undefined variable 'user'
```

```
✗ 19 errors, 2 warnings found
  ✗ main.py:8:8: Import "undefined_module" could not be resolved
  ✗ main.py:18:20: Type "str | int" is not assignable to declared type "str"
  ⚠ main.py:25:10: Variable 'unused' is assigned but never used
  ✗ main.py:33:39: Cannot access attribute "height" for class "User"
  ✗ main.py:43:29: Argument of type "list[str]" cannot be assigned
  ... and 16 more
```

**Silent when no errors** - No output is shown when files are clean

## Key Points

- Auto-generated by claude-lsp-cli hook, not user input
- Treat as informational feedback about code quality
- Compact format minimizes context usage
- Human-readable while being machine-parseable
